@using Rabbit.IOnline.Models.ViewModels
@using Recaptcha.Web
@using Recaptcha.Web.Mvc;

@model EditMessageViewModel

<form action="@Url.Action("Save", "Message")" enctype="multipart/form-data" method="POST">
    @Html.ValidationSummary()

    <div class="form-group">
        @Html.TextAreaFor(m => m.Body, new { @class = "form-control" })
    </div>

    <div class="form-group">
        <label for="CategoryId">Select a category</label>
        @Html.DropDownListFor(m => m.CategoryId, Model.Categories, "---", new { @class = "form-control" })
    </div>

    <div class="form-group">
        @Html.Recaptcha(theme: RecaptchaTheme.Clean)
    </div>

    <div class="form-group">
        <button type="submit" class="btn btn-default">Submit</button>
    </div>

    <div id="preview" class="well well-sm"></div>
</form>

<script type="text/javascript">
    $('div#preview').previewShowdown({
        source: 'div.form-group textarea',
        defaultMessage: '*Enter your message and see its preview there*'
    });
</script>
